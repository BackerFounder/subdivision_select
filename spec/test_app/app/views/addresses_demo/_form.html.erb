<%#
  This partial takes 1-5 local variables
  - name
  - note (optional)
  - country_options (optional)
  - subdivision_values (optional)
  - subdivision_options (optional)
%>

<%
    note ||= ""
    country_options ||= {}
    subdivision_values ||= []
    subdivision_options ||= {}
%>

<%= form_for "address_#{name.parameterize}" do |f| %>
  <h2> <%= name %> </h2>
  <h4> <%= note %> </h4>

  <div class="field">
    <%= f.label(:country) %><br />
    <%= f.country_select(:country, country_options) %>
  </div>

  <div class="field">
    <%= f.label("State / Province") %><br />
    <%=
      f.select(
        :subdivision,
        subdivision_values,
        subdivision_options
      )
    %>
  </div>
<% end %>
